(window.webpackJsonpwallpaly=window.webpackJsonpwallpaly||[]).push([[0],{5489:function(t,e,a){t.exports=a(5670)},5494:function(t,e,a){},5495:function(t,e,a){},5503:function(t,e){},5670:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),l=(a(5494),a(5495),a(92)),c=a(30),s=a(45),d=a(44),u=a(53),m=a(140),p=function(t){Object(s.a)(a,t);var e=Object(d.a)(a);function a(t,n,r){var o;return Object(c.a)(this,a),(o=e.call(this,t,n)).radius=void 0,o.basepoints=function(){for(var t=Array(),e=-o.length/2,a=Math.PI*o.radius,n=a/o.state.anchorpoints,r=e;r<a;r+=n){var i=(Math.random()-.5)*o.state.initialAmplitude+Math.sin(r/o.radius)*o.radius,l=(Math.random()-.5)*o.state.initialAmplitude+Math.cos(r/o.radius)*o.radius,c=(Math.random()-.5)*o.state.colorspread;t=[].concat(Object(m.a)(t),[new u.c(l,i,c)])}return t},o.radius=r,o.anchors=o.basepoints(),o}return a}((function t(e,a){var n=this;Object(c.a)(this,t),this.anchors=void 0,this.length=void 0,this.state=void 0,this.getAnchors=function(){return n.anchors},this.myspread=function(t,e){return Math.round((Math.random()-.5)*e*Math.pow(Math.sin((t+n.length/2)*(Math.PI/n.length)),2))},this.next=function(){for(var t=0;t<n.anchors.length;t++){var e=n.anchors[t],a=t*(n.length/n.state.anchorpoints)-n.length/2;e.y+=n.myspread(a,n.state.jitterY),e.z+=n.myspread(a,n.state.colorspread),e.x+=n.myspread(a,n.state.jitterX)}n.anchors.forEach((function(t){}))},this.basepoints=function(){return Array()},this.length=e,this.state=a,this.anchors=this.basepoints()})),h=a(135),g=a.n(h),f=a(5708),b=a(5709),v=a(5711),x=a(43),w=a(5671),C=a(5715),E=a(5713),S=a(136),j=a(5710),y=a(5714);function M(t){var e=t.children,a=t.open,n=t.value,o=r.a.useRef(null);return r.a.useEffect((function(){o.current&&o.current.update()})),r.a.createElement(E.a,{PopperProps:{popperRef:o},open:a,enterTouchDelay:0,placement:"top",title:n},e)}var R=function(t){Object(s.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state=void 0,n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(t){console.log(t.rgb),n.state.setSettings({color:t.rgb}),n.setState({color:t.rgb})},n.handleRes=function(t){var e=t.target.value;n.setState({res:t.target.value});var a=parseInt(e.split(",")[0]),r=parseInt(e.split(",")[1]);n.state.setSettings({width:a,height:r}),n.state.pRedraw()},n.render=function(){var t={width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(n.state.color.r,", ").concat(n.state.color.g,", ").concat(n.state.color.b,",1.0)")};return r.a.createElement("div",{className:"settingsbutton"},r.a.createElement(x.c,null),r.a.createElement("div",{className:"settingsmenu"},r.a.createElement("div",null,r.a.createElement(w.a,{gutterBottom:!0},"Resolution"),r.a.createElement(j.a,{value:n.state.res,onChange:n.handleRes},r.a.createElement(y.a,{value:"1920,1080"},"1920x1080"),r.a.createElement(y.a,{value:"2560,1080"},"2560x1080"),r.a.createElement(y.a,{value:"2560,1440"},"2560x1440"),r.a.createElement(y.a,{value:"3440,1440"},"3440x1440"),r.a.createElement(y.a,{value:"3840,2160"},"3840x2160"),r.a.createElement(y.a,{value:"5120,2160"},"5120x2160")),r.a.createElement(w.a,{gutterBottom:!0},"Number of lines"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.lineNumber,min:20,max:300,onChangeCommitted:function(t,e){n.state.setSettings({lineNumber:e})}}),r.a.createElement(w.a,{gutterBottom:!0},"Number of anchor points"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.anchorpoints,min:5,max:300,onChangeCommitted:function(t,e){n.state.setSettings({anchorpoints:e})}}),r.a.createElement(w.a,{gutterBottom:!0},"Initialization amplitude"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.initialAmplitude,min:20,max:300,onChangeCommitted:function(t,e){n.state.setSettings({initialAmplitude:e})}}),r.a.createElement(w.a,{gutterBottom:!0},"Anchor points jitter for x"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.jitterX,min:0,max:200,onChangeCommitted:function(t,e){n.state.setSettings({jitterX:e})}}),r.a.createElement(w.a,{gutterBottom:!0},"Anchor points jitter for y"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.jitterY,min:0,max:200,onChangeCommitted:function(t,e){n.state.setSettings({jitterY:e})}}),r.a.createElement(w.a,{gutterBottom:!0},"Max colorspread"),r.a.createElement(C.a,{ValueLabelComponent:M,"aria-label":"custom thumb label",defaultValue:n.state.parentState.colorspread,min:20,max:300,onChangeCommitted:function(t,e){n.state.setSettings({colorspread:e})}}),r.a.createElement("p",null,r.a.createElement(f.a,{variant:"outlined",className:"button",onClick:n.state.pRedraw},"Render")),r.a.createElement("p",null,r.a.createElement(b.a,{control:r.a.createElement(v.a,{checked:n.state.wipe}),onChange:function(){n.state.setSettings({wipeOnRender:!n.state.wipe}),n.setState({wipe:!n.state.wipe})},label:"Wipe before new render"})),r.a.createElement("p",null,r.a.createElement(b.a,{control:r.a.createElement(v.a,{checked:n.state.randomColor}),onChange:function(){n.state.setSettings({randomColor:!n.state.randomColor}),n.setState({randomColor:!n.state.randomColor})},label:"Random colors"})),r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:n.handleClick},r.a.createElement("div",{style:t})),n.state.displayColorPicker?r.a.createElement("div",{style:{position:"absolute",zIndex:2}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:n.handleClose}),r.a.createElement(S.SketchPicker,{color:n.state.color,onChange:n.handleChange})):null))))},n.state={parentState:t.parentState,pRedraw:t.pRedraw,setSettings:t.setSettings,displayColorPicker:!1,color:t.parentState.color,randomColor:t.parentState.randomColor,wipe:t.parentState.wipeOnRender,res:"1920,1080"},n}return a}(n.Component),k=a(23);var O=function(t){return Object(k.b)("div",{className:"download"},Object(k.b)(x.b,{onClick:function(){t.cb()}}))};function A(t){return Math.floor(Math.random()*Math.floor(t))}var I=function(t){return r.a.createElement("div",null,r.a.createElement(x.a,{onClick:function(){(0,t.stateCallback)({lineNumber:A(280)+20,seed:A(9999),anchorpoints:A(40)+20,jitterX:A(5),jitterY:A(30),colorspread:A(20)+10,initialAmplitude:A(280)+20,color:{r:A(255),g:A(255),b:A(255)}})}}))},P={version:1,lineNumber:60,width:1920,height:1080,seed:1,anchorpoints:29,jitterX:5,jitterY:11,colorspread:5,initialAmplitude:30,wipeOnRender:!0,randomColor:!1,displayColorPicker:!1,color:{r:0,g:0,b:0},invcolor:{r:255,g:255,b:255}},V=Object(k.a)({display:"flex",position:"absolute",top:"8px",right:"16px",fontSize:"18px",zIndex:100,width:"100px",justifyContent:"space-around"}),N=function(t){Object(s.a)(a,t);var e=Object(d.a)(a);function a(t){var r;Object(c.a)(this,a),(r=e.call(this,t)).canvas=Object(n.createRef)(),r.ctx=void 0,r.pixeldata=void 0,r.roundedpixeldata=void 0,r.img=void 0,r.state=P,r.transform=function(t,e){return t+=r.state.width/2,e+=r.state.height/2,new u.b(t,e)},r.setPixel=function(t,e,a){if(r.pixeldata){var n=r.transform(t,e);t=Math.floor(n.x);for(var o=4*((e=Math.floor(n.y))*r.state.width+t),i=0;i<4;i++)r.pixeldata[o+i]=a[i]}},r.addPixel=function(t,e,a){if(r.pixeldata){var n=r.transform(t,e);t=Math.floor(n.x);for(var o=4*((e=Math.floor(n.y))*r.state.width+t),i=0;i<3;i++)r.pixeldata[o+i]=a[i]+r.pixeldata[o+i];r.pixeldata[o+3]=0}},r.commitImage=function(){if(r.pixeldata&&r.roundedpixeldata&&r.ctx&&r.img){for(var t=0;t<r.pixeldata.length;t++){var e=Math.floor(255*(1-r.pixeldata[t]));r.roundedpixeldata[t]=e}r.ctx.putImageData(r.img,0,0)}},r.getRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))},r.spreadGrainsLine=function(t,e,a){for(var n=r.getRandomInt(20)+5,o=.04/n,i=0;i<n;i++){var l=t.clone(),c=Math.random()-.5;l.addScaledVector(e,c*a);var s=[o*(r.state.invcolor.r/255),o*(r.state.invcolor.g/255),o*(r.state.invcolor.b/255),0];r.addPixel(l.x,l.y,s)}},r.onLinesChange=function(t,e){r.setState({lineNumber:e})},r.setSetting=function(t){r.setState(t)},r.setSettingAndRender=function(t){r.setSetting(t),r.redraw()},r.download=function(t){var e,a=document.createElement("a"),n="wallpaper-".concat(r.state.width,"x").concat(r.state.height,".png");a.download=n,null!=r.canvas.current&&(a.href=r.canvas.current.toDataURL("image/png;base64"),document.createEvent&&((e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(e)))},r.componentDidMount=function(){if(g()(r.state.seed.toString(),{global:!0}),r.canvas.current){var t=r.canvas.current;t.width=r.state.width,t.height=r.state.height,r.ctx=t.getContext("2d"),r.img=r.ctx.getImageData(0,0,r.state.width,r.state.height),r.roundedpixeldata=r.img.data,r.pixeldata=new Float64Array(r.roundedpixeldata.length),r.redraw()}},r.redraw=function(){r.setState({invcolor:{r:255-r.state.color.r,g:255-r.state.color.g,b:255-r.state.color.b}}),r.state.wipeOnRender&&r.ctx&&r.roundedpixeldata&&(r.ctx.clearRect(0,0,r.state.width,r.state.height),r.pixeldata=new Float64Array(r.roundedpixeldata.length)),r.drawCurveMurder(),console.log(r.state),r.commitImage()},r.drawCurveMurder=function(){for(var t=new p(r.state.width,r.state,300),e=0;e<60;e++)r.drawSpreadCurve(t,e),r.state.randomColor&&(r.setState({color:{r:r.getRandomInt(255),g:r.getRandomInt(255),b:r.getRandomInt(255)}}),r.setState({invcolor:{r:255-r.state.color.r,g:255-r.state.color.g,b:255-r.state.color.b}})),t.next()},r.drawSpreadCurve=function(t,e){for(var a=new u.a(t.getAnchors()).getPoints(5*r.state.width),n=1;n<a.length;n++){var o=a[n].clone().sub(a[n-1]).normalize();o.set(-o.y,o.x,o.z),r.spreadGrainsLine(a[n],o,a[n].z)}},r.render=function(){return Object(k.b)("div",null,Object(k.b)("canvas",{id:"circlecanvas",ref:r.canvas}),Object(k.b)("div",{css:V},Object(k.b)(I,{stateCallback:r.setSettingAndRender}),Object(k.b)(O,{cb:r.download}),Object(k.b)(R,{setSettings:r.setSetting,parentState:r.state,pRedraw:r.redraw})))};var o=0;return o=t.seed?t.seed:Math.floor(1e6*Math.random()),r.state=Object(l.a)(Object(l.a)({},P),{},{width:1920,height:1080,seed:o}),r}return a}(n.Component),L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[5489,1,2]]]);
//# sourceMappingURL=main.30af8035.chunk.js.map